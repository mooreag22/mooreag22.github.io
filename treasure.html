<!doctype html>
<html>
    <head>
        <meta charset="UTF-8" />
        <title>Treasure Hunt Game</title>
		
    </head>
    <body>
		<div class="container">
			<!--CabeÃ§alho-->
			<div class="title">
				<span id="title" class="main-title"></span>
				 Treasure Hunt Game
			</div>
			<div class="name">			
				 - Anna Grace - <a href = "javascript:void(0)" onclick = "document.getElementById('light').style.display='block';document.getElementById('fade').style.display='block'">Instructions</a>
			</div>
			<!--Jogo-->
			<script src="https://code.jquery.com/jquery-2.1.0.js" type="text/javascript"></script>
			<div id="gameDiv" class="game"/>		
		</div>
		<div id="light" class="instructions_content">
			<h1>Treasure Hunt Game</h1>
			<p>Try to find as much treasure as you can, with as little cicks as possible.</p>
			 <img id = "map" width=400 height=400
     			 src="https://nostarch.com/images/treasuremap.png">
			<p id = "message"></p>

			<p><a href = "javascript:void(0)" onclick = "document.getElementById('light').style.display='none';document.getElementById('fade').style.display='none'">Close</a>	</p>
		</div>
		<div id="fade" class="fade_overlay"></div>
	    
	    <script>
      		var getRandomNumber = function(size)
      		{
        		return Math.floor(Math.random() * size);
      		};
      
      		var width = 400;
      		var height = 400;
      
      		var treasure = {
       	 		x: getRandomNumber(width),
        		y: getRandomNumber(height)
      		};
      
      		var getDistanceToTreasure = function(event, treasure)
      		{
        		var xDifference = event.offsetX - treasure.x;
        		var yDifference = event.offsetY - treasure.y;
        		return Math.sqrt((xDifference * xDifference) + 
                         	(yDifference * yDifference)); // Pythagorean Theorem
      		};
      
      		var clicks = 0; 
      
      		$("#map").click(function (event){
        		// Click handler code goes here
        		// check for distance
			var distance = getDistanceToTreasure(event, treasure);
        		// check if they are close enough to find the treasure
        		// if they have 'found it' tell them how many clicks it took
			if (distance <= 10)
			{
				$("#message").text("You found the treasure! It took you "+clicks+" clicks to find it!");
			}else{
        			// give a hint if they are too far away
				hints(distance);
			}
        		clicks++;
      		});
		    
		var hints = function(distance)
		{
			if(distance <= 25)
			{ 
				$("#message").text("You are close");
				
			}else if(distance <= 55)
			{
				$("#message").text("You are sorta close");
				
			}
			else if(distance <= 100)
			{
				$("#message").text("Your getting there");
			}
			else if(distance <= 150)
			{
				$("#message").text("A little better");
			}
			else if(distance <= 200)
			{
				$("#message").text("Not even close sister");
			}
		};
    </script> 
    </body>
</html>
